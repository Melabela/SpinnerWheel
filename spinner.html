<html>
<head>
<script type="text/javascript">
  // SIZE CONSTANTS
  const CANVAS_WIDTH = 300;  // height same; assume using square box
  const WHEEL_RADIUS = 100;  // diameter = 200

  // COLOR PALETTES
  // Wedge BG, lighter colors
  // https://coolors.co/palette/fbf8cc-fde4cf-ffcfd2-f1c0e8-cfbaf0-a3c4f3-90dbf4-8eecf5-98f5e1-b9fbc0
  WEDGE_BG_COLORS = [
    '#F1C0E8',  // pink-red
    '#FFCFD2',  // red
    '#FDE4CF',  // orange
    '#FBF8CC',  // yellow
    '#B9FBC0',  // light-green
    '#98F5E1',  // pink-red
    '#8EECF5',  // light-blue (cyan)
    '#90DBF4',  // med-blue
    '#A3C4F3',  // dark-blue
    '#CFBAF0'   // purple
  ];

  // returns [x1, y1]
  function calcPointOnCircle(radius, angleRad, xOffset=0, yOffset=0) {
    //         .(x, y)
    //        /|
    //     r / | y
    //      /  |
    //     /---|
    // (0,0)  x

    const x = Math.cos(angleRad) * radius;
    const y = Math.sin(angleRad) * radius;

    return [x + xOffset, y + yOffset];
  }

  function drawWheel(ctx, numDivisions, ctrX, ctrY, radius) {
    const radPerSegm = Math.PI * 2 / numDivisions;
    let radNow = 0;
    let radNxt = 0;

    for (i=0; i<numDivisions; i++) {
      radNxt = radNow + radPerSegm;
      const [x1, y1] = calcPointOnCircle(radius, radNow, ctrX, ctrY);
      const [x2, y2] = calcPointOnCircle(radius, radNxt, ctrX, ctrY);
      // console.log("pt1=(%f, %f)", x1, y1);
      // console.log("pt2=(%f, %f)", x2, y2);
      // console.log("radNow=%f, radNxt=%f", radNow, radNxt);

      ctx.beginPath();
      ctx.lineTo(ctrX, ctrY, x1, y1);
      ctx.arc(ctrX, ctrY, radius, radNow, radNxt);
      ctx.lineTo(x2, y2, ctrX, ctrY);

      fillColorIdx = (i % WEDGE_BG_COLORS.length);
      ctx.fillStyle = WEDGE_BG_COLORS[fillColorIdx];
      // console.log("fillColorIdx=%d, fillColor=%s", fillColorIdx, ctx.fillStyle);
      ctx.fill();

      radNow += radPerSegm;
    }
  }

  function draw() {
    const canvas = document.getElementById('spinner');
    if (canvas.getContext) {
      const ctx = canvas.getContext('2d');

      const midPt = CANVAS_WIDTH / 2;
      const numDivisions = 10;
      drawWheel(ctx, numDivisions, midPt, midPt, WHEEL_RADIUS);
    }
  }
</script>
</head>

<body onload="draw();">

<h1>Spinner</h1>

<canvas id="spinner" width=300 height=300></canvas>

</body>
</html>
